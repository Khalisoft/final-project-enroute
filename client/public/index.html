<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Material UI Responsive meta tag -->
    <meta
      name="viewport"
      content="minimum-scale=1, initial-scale=1, width=device-width"
    />
    <meta name="theme-color" content="#000000" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="shortcut icon" href="%PUBLIC_URL%/favicon.ico" />
    <!-- Import Google Icon Font -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!-- Import Google Roboto Font
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    /> -->
    <!-- Import React Slick slick-carousel and slick-theme -->
    <link
      rel="stylesheet"
      type="text/css"
      charset="UTF-8"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css"
    />

    <title>Enroute</title>
  </head>

  <body>
    <noscript> You need to enable JavaScript to run this app. </noscript>
    <div id="root"></div>
    <!-- Import Pusher for Push notifications -->
    <!-- <script src="https://js.pusher.com/beams/1.0/push-notifications-cdn.js"></script> -->
    <script src="https://js.pusher.com/7.0/pusher.min.js"></script>

    <!-- Import Axios for API calls -->
    <!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->

    <script>
      // Get current logged in user
      // const getUser = () => {
      //   axios
      //     .get("/api/users/current-user")
      //     .then((res) => {
      //       console.log("Current User ID", res.data.data._id);
      //       currentUserId = res.data.data._id;
      //       return true;
      //     })
      //     .catch((err) => {
      //       console.log("Something went wrong");
      //     });
      // };
      // getUser();

      // Register client to pusher intance of app
      // const beamsClient = new PusherPushNotifications.Client({
      //   instanceId: "6af2ffd6-7acf-4ff5-9099-45bd1624be39",
      //   // instanceId: "0bb3f3ca-f205-4863-a264-e0e2264bc4bf",
      // });
      // // Get beams token for authentication and register device
      // const beamsTokenProvider = new PusherPushNotifications.TokenProvider({
      //   url: "/api/pusher/beams-auth",
      // });

      // beamsClient
      //   .start()
      //   .then((beamsClient) => beamsClient.getDeviceId())
      //   .then((deviceId) =>
      //     console.log(
      //       "Successfully registered with Beams. Device ID:",
      //       deviceId
      //     )
      //   )
      //   .then((req) => beamsClient.setUserId(currentUserId, beamsTokenProvider))
      //   //  .then(() => beamsClient.addDeviceInterest("hello"))
      //   //  .then(() => beamsClient.getDeviceInterests())
      //   //  .then((interests) => console.log("Current interests:", interests))

      //   .catch(e => console.error('Could not authenticate with Beams:', e));

      // ---------------- CHANNELS ------------------ //
      // Enable pusher logging - don't include this in production
      Pusher.logToConsole = true;

      var pusher = new Pusher("29fa452f5422eea823e5", {
        cluster: "ap1",
      });

      var channel = pusher.subscribe("private-user-john");
      channel.bind("request-booked", function (data) {
        alert(JSON.stringify(data));
      });
    </script>
  </body>
</html>
